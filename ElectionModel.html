<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Forecasting Precinct-Level Vote Totals for the Upcoming Portland Mayoral Election</title>
    <!-- Google Tag Manager -->
    <script>(function(w,d,s,l,i){w[l]=w[l]||[];w[l].push({'gtm.start':
    new Date().getTime(),event:'gtm.js'});var f=d.getElementsByTagName(s)[0],
    j=d.createElement(s),dl=l!='dataLayer'?'&l='+l:'';j.async=true;j.src=
    'https://www.googletagmanager.com/gtm.js?id='+i+dl;f.parentNode.insertBefore(j,f);
    })(window,document,'script','dataLayer','GTM-WQVL5JSW');</script>
    <!-- End Google Tag Manager -->
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="style.css">
    <link
      href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&family=Roboto+Slab:wght@400;700&display=swap"
      rel="stylesheet"
    />
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/monokai-sublime.min.css">
    <style>
      /* Enhanced mobile responsiveness */
      @media (max-width: 768px) {
        .page-header {
          padding: 6rem 1rem 2rem;
        }
        
        .page-header h1 {
          font-size: 1.8rem;
          line-height: 1.3;
        }
        
        .page-header .live-link {
          font-size: 0.9rem;
          word-break: break-all;
        }
        
        .container {
          padding-left: 1rem;
          padding-right: 1rem;
        }
        
        h2 {
          font-size: 1.4rem;
          margin-top: 2rem;
          margin-bottom: 1rem;
        }
        
        h3 {
          font-size: 1.2rem;
        }
        
        .col-lg-8 {
          padding-left: 1rem;
          padding-right: 1rem;
        }
        
        ul li {
          margin-bottom: 0.75rem;
          line-height: 1.6;
        }
        
        .section {
          padding: 2rem 0;
        }
        
        pre code {
          font-size: 0.8rem;
          line-height: 1.4;
        }
        
        .table-responsive {
          font-size: 0.85rem;
        }
        
        table th,
        table td {
          padding: 8px 6px;
          font-size: 0.8rem;
        }
      }
      
      @media (max-width: 575px) {
        .page-header {
          padding: 5rem 0.5rem 1.5rem;
        }
        
        .page-header h1 {
          font-size: 1.5rem;
        }
        
        .container {
          padding-left: 0.5rem;
          padding-right: 0.5rem;
        }
        
        h2 {
          font-size: 1.2rem;
        }
        
        h3 {
          font-size: 1.1rem;
        }
        
        .col-lg-8 {
          padding-left: 0.5rem;
          padding-right: 0.5rem;
        }
        
        pre code {
          font-size: 0.75rem;
        }
        
        table th,
        table td {
          padding: 6px 4px;
          font-size: 0.75rem;
        }
      }
    </style>
</head>
<body>
    <!-- Google Tag Manager (noscript) -->
    <noscript><iframe src="https://www.googletagmanager.com/ns.html?id=GTM-WQVL5JSW"
    height="0" width="0" style="display:none;visibility:hidden"></iframe></noscript>
    <!-- End Google Tag Manager (noscript) -->
    <header>
      <nav class="navbar navbar-expand-lg navbar-dark fixed-top">
        <a class="navbar-brand" href="index.html">Steve Lantz</a>
        <button
          class="navbar-toggler"
          type="button"
          data-toggle="collapse"
          data-target="#navbarNav"
          aria-controls="navbarNav"
          aria-expanded="false"
          aria-label="Toggle navigation"
        >
          <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
          <ul class="navbar-nav ml-auto">
            <li class="nav-item"><a class="nav-link" href="index.html#hero">Home</a></li>
            <li class="nav-item"><a class="nav-link" href="index.html#projects">Projects</a></li>
            <li class="nav-item"><a class="nav-link" href="index.html#skills">Skills</a></li>
            <li class="nav-item"><a class="nav-link" href="index.html#contact">Contact</a></li>
          </ul>
        </div>
      </nav>
    </header>

    <section class="page-header">
        <div class="container">
            <h1>Forecasting Precinct-Level Vote Totals for the Upcoming Portland Mayoral Election</h1>
            <p class="live-link">Code: <a href="https://github.com/your-username/your-repo-name" target="_blank">github.com/your-username/your-repo-name</a></p>
        </div>
    </section>

    <section class="section">
        <div class="container">
            <div class="row">
                <div class="col-lg-8 offset-lg-2">
                    <h2>Abstract</h2>
                    <p>This blog post presents a predictive analysis aimed at forecasting precinct-level vote totals in the upcoming Portland mayoral race between Rene Gonzalez and Carmen Rubio. Utilizing historical electoral data and advanced machine learning techniques—specifically, a Gradient Boosting Regressor—we develop a model to predict voter turnout and candidate support. The analysis provides insights into the factors influencing electoral behavior and offers detailed interpretations of the model's predictions.</p>

                    <h2>1. Introduction</h2>
                    <p>Accurate forecasting of electoral outcomes at the precinct level is invaluable for campaign strategists, political analysts, and policymakers. It enables targeted campaigning, efficient resource allocation, and a deeper understanding of voter behavior patterns. This study focuses on the upcoming Portland mayoral election, featuring candidates Rene Gonzalez and Carmen Rubio. By leveraging historical election data and sophisticated machine learning models, we aim to predict voter turnout and candidate support at a granular precinct level.</p>

                    <h2>2. Data Sources</h2>
                    <p>Three primary datasets were utilized in this analysis:</p>
                    <ol>
                        <li><strong>2022 Rene Gonzalez vs. Jo Ann Hardesty Election Data:</strong> Contains precinct-level voting results from the previous mayoral race.</li>
                        <li><strong>2020 Carmen Rubio Election Data:</strong> Provides precinct-level data from Carmen Rubio's previous election.</li>
                        <li><strong>Additional Electoral Data:</strong> Includes results from other relevant races and measures (e.g., District Attorney race, Metro measure voting percentages).</li>
                    </ol>

                    <h2>3. Methodology</h2>
                    <h3>3.1 Data Preprocessing</h3>
                    <p>Data preprocessing involved loading and merging datasets, handling missing values, and converting data types. Relevant columns were selected and renamed, and datasets were merged on the <code>Precinct</code> column. Missing numerical values were filled with zeros, and all numerical features were converted to appropriate data types.</p>

                    <h3>3.2 Feature Engineering</h3>
                    <p>New features were created to enhance the model's predictive capabilities, including <code>Registered_Voters</code> and past performance percentages for each candidate and measure.</p>

                    <h3>3.3 Model Training and Evaluation</h3>
                    <p>The model training process involved feature scaling using <code>StandardScaler</code>, splitting data into training and testing sets (80/20 split), and employing a Gradient Boosting Regressor. The model was evaluated using Mean Squared Error (MSE) and R-squared metrics, with cross-validation performed for robustness.</p>

                    <h2>4. Results</h2>
                    <h3>4.1 Model Performance</h3>
                    <ul>
                        <li><strong>Mean Squared Error (MSE):</strong> 225,813.56</li>
                        <li><strong>R-squared (R²):</strong> 0.85</li>
                        <li><strong>Cross-Validated R² Score:</strong> Average of 0.82 across five folds</li>
                    </ul>

                    <h3>4.2 Feature Importance</h3>
                    <p>The analysis revealed that <code>Registered_Voters</code> was the most significant predictor of total votes, followed by <code>DA_Schmidt_Percent</code>. Other influential features included past vote percentages for candidates and measures.</p>

                    <h4>Feature Importance Plot</h4>
                    <img src="media/Figure_1.png" alt="Feature Importance Plot" class="img-fluid w-100 mb-3">

                    <h3>4.3 Precinct-Level Predictions</h3>
                    <p>The following table displays the forecasted results. This data is generated by the predictive model and can be found in <code>media/election_forecast_detailed.csv</code>.</p>
                    <div class="table-responsive">
                        <table class="table table-striped" id="forecast-table">
                            <thead>
                                <tr>
                                    <th>Precinct</th>
                                    <th>Registered Voters</th>
                                    <th>Predicted Total Votes</th>
                                    <th>Carmen Votes</th>
                                    <th>Rene Votes</th>
                                    <th>SHAP Values</th>
                                    <th>Interpretation</th>
                                </tr>
                            </thead>
                            <tbody>
                                <!-- Rows will be dynamically generated using JavaScript -->
                            </tbody>
                        </table>
                    </div>

                    <h3>4.4 SHAP Value Analysis</h3>
                    <p>SHAP values were used to understand feature contributions at the precinct level, revealing that predictions were often influenced by <code>DA_Schmidt_Percent</code> and <code>Registered_Voters</code>.</p>

                    <h4>SHAP Summary Plot</h4>
                    <img src="media/Figure_2.png" alt="SHAP Summary Plot" class="img-fluid w-100 mb-3">

                    <h2><a data-toggle="collapse" href="#interpretationCollapse" role="button" aria-expanded="true" aria-controls="interpretationCollapse">5. Interpretation</a></h2>
                    <div class="collapse show" id="interpretationCollapse">
                        <h3>5.1 Key Findings</h3>
                        <ul>
                            <li><strong>Influence of Registered Voters:</strong> Primary driver of total votes.</li>
                            <li><strong>Impact of Past Support for Mike Schmidt:</strong> Correlation with higher voter turnout.</li>
                            <li><strong>Candidate-Specific Insights:</strong> Carmen Rubio's past performance is a strong indicator of future support.</li>
                        </ul>

                        <h3>5.2 Implications for Campaign Strategies</h3>
                        <p>These insights suggest targeted areas where campaign efforts could be concentrated to maximize voter engagement and support, such as focusing on precincts with high numbers of registered voters and leveraging areas with strong past support for aligned candidates.</p>
                    </div>

                    <h2><a data-toggle="collapse" href="#conclusionCollapse" role="button" aria-expanded="true" aria-controls="conclusionCollapse">6. Conclusion</a></h2>
                    <div class="collapse show" id="conclusionCollapse">
                        <p>This analysis provides a comprehensive forecast of precinct-level vote totals for the upcoming Portland mayoral election. By integrating historical election data with advanced machine learning techniques, we have identified key factors influencing voter turnout and candidate support. The findings offer valuable insights for campaign strategists and contribute to a deeper understanding of electoral dynamics in Portland.</p>
                    </div>

                    <h3>A. Code Implementation</h3>
                    <p>The core methodology was implemented in Python using Pandas, Scikit-learn, and SHAP. For a detailed look at the data preprocessing, model training, and feature analysis, the complete source code is available on GitHub.</p>
                    <a href="https://github.com/your-username/your-repo-name" class="btn btn-outline-info" target="_blank">View Code on GitHub</a>
                </div>
            </div>
        </div>
    </section>

    <footer class="footer">
      <div class="container text-center">
        <p>&copy; 2025 Steve Lantz Portfolio. All Rights Reserved.</p>
      </div>
    </footer>

    <script src="https://code.jquery.com/jquery-3.5.1.slim.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.bundle.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/PapaParse/5.3.0/papaparse.min.js"></script>
    <script>
        // Load CSV data and render it into the table using PapaParse
        $(document).ready(function() {
            Papa.parse('media/election_forecast_detailed.csv', {
                download: true,
                header: true,
                complete: function(results) {
                    const tableBody = $('#forecast-table tbody');
                    results.data.forEach(function(row) {
                        const tableRow = `<tr>
                            <td>${row['Precinct']}</td>
                            <td>${row['Registered_Voters']}</td>
                            <td>${row['Predicted_Total_Votes']}</td>
                            <td>${row['Carmen_Votes']}</td>
                            <td>${row['Rene_Votes']}</td>
                            <td>${row['SHAP_Values']}</td>
                            <td>${row['Interpretation']}</td>
                        </tr>`;
                        tableBody.append(tableRow);
                    });
                }
            });
        });
    </script>
</body>